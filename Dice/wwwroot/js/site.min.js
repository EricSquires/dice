$(function(){var n=$(".die-value").map(function(){return parseInt(this.innerText)});diceDrawer=new DiceDrawer($("#drawArea"),n)});roll=function(){var n=$(".dice");n.each(function(t,i){var r=parseInt($(i).children(".die-faces").text());$.get("/api/Roll/"+r,function(i){n.children(".die-value:eq("+t+")").text(i)})})};var DiceDrawer=function(n,t){function c(){e=$(n);i=e.innerWidth();u=i*.5;o=l();f=new THREE.PerspectiveCamera(75,i/u,.1,1e3);r=new THREE.WebGLRenderer;r.setSize(i,u);e.append(r.domElement);h()}function l(){var n=new THREE.Scene,i;return n.add(new THREE.AmbientLight(4210752)),i=new THREE.PointLight(16777215,1),i.position.set(-20,20,5),n.add(i),i=new THREE.PointLight(16777215,1),i.position.set(20,20,5),n.add(i),a(n),t.map(function(t){v(n,t)}),n}function a(n){var r=new THREE.PlaneGeometry(i*2,u*2,1),f=new THREE.MeshPhongMaterial({color:26112}),t=new THREE.Mesh(r,f);t.translateZ(-100);n.add(t)}function v(n){var i=new THREE.BoxGeometry(1,1,1),r=new THREE.MeshPhongMaterial({color:11141120}),t=new THREE.Mesh(i,r);t.translateZ(-5);t.translateX(-2.5+5*s.length);s.push(t);n.add(t)}function h(){requestAnimationFrame(h);r.render(o,f)}var e,i,u,o,f,r,s=[],t=t;c()};DiceDrawer.prototype={constructor:DiceDrawer};